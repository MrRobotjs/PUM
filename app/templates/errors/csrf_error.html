{# app/templates/errors/csrf_error.html #}
{% extends "base.html" %}

{% block head_extra %}
    {# Font Awesome is in base.html #}
{% endblock %}

{% block content %}
<div class="flex flex-col items-center justify-center min-h-[calc(100vh-12rem)] text-center px-4 py-12">
    <div class="w-full max-w-lg">
        <div class="bg-plex-surface dark:bg-gray-800 shadow-2xl rounded-lg p-8 border-t-4 border-yellow-500 dark:border-yellow-400">
            <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 dark:bg-yellow-700 mb-6">
                <i class="fas fa-shield-alt fa-2x text-yellow-600 dark:text-yellow-300"></i> {# Shield or Refresh icon #}
            </div>
            <h2 class="text-2xl font-bold text-plex-text-primary dark:text-white mb-3">
                Session Expired or Invalid Request
            </h2>
            <p class="text-md text-plex-text-secondary dark:text-gray-300 mb-4">
                For your security, your session may have expired, or there was an issue with your request.
            </p>
            <p class="text-plex-text-primary dark:text-gray-200 mb-6">
                This can happen if you leave a form open for too long before submitting it.
            </p>
            
            <hr class="border-plex-border dark:border-gray-600 my-6">

            <p class="text-sm text-plex-text-secondary dark:text-gray-400 mb-6">
                Please try the following:
            </p>
            <ul class="list-disc list-inside text-left text-sm text-plex-text-secondary dark:text-gray-300 mb-6 space-y-1 max-w-md mx-auto">
                <li>Go back to the previous page and refresh it.</li>
                <li>Try submitting the form again.</li>
                <li>If you were logging in, please try logging in again.</li>
            </ul>
            
            <div class="mt-8">
                <a href="{{ request.referrer or url_for('main.index_or_setup') }}"
                   class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-plex-accent hover:bg-plex-accent-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-plex-accent dark:focus:ring-offset-plex-bg transition-colors duration-150">
                    <i class="fas fa-arrow-left mr-2"></i> Go Back or To Homepage
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}